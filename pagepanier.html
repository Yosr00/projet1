<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./page.css" />
    <script src="./dynamique.js"></script>
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />
<!-- Font awesome CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css"
    integrity="sha512-YWzhKL2whUzgiheMoBFwW8CKV4qpHQAEuvilg9FAn5VJUDwKZZxkJNuGM4XkWuk94WCrrwslk8yWNGmY1EduTA=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <header>
        <div class="ll">
            <img src="c:\Users\bouzg\Desktop\0.png" width="100" height="50">

            <nav id="heyy">
                <form>
                    Rechercher <input type="text" name= "Recherche" >
               </form>
                
                <a href="./page acceuil.html">Accueil</a>
                <a href="./pageboutique.html">Boutique</a>
                <a href="./page a propos.html">A propos</a>
                <a href="pageconnectez.html">Contact</a>
                <a href="./pagesign.html">Sign-up</a>
                <a href="./pagepanier.html">Panier</a>
                <label class="switch">
                    <input type="checkbox">
                    <span class="slider"></span>
                </label>
             

            </nav>
        </div>
    </header>
    <main>
        <section class="shopping-card-container">
            <div class="total-price">
                <span> Total price : </span>
                <span class="total"> 0 $ </span>
            </div>
            <div class="list-products">
                <!-- Product 1 : baskets -->
                <div class="card-body">
                    <div class="card" style="width: 18rem">
                        <div class="card-body">
                            <h5 class="card-title">"sac à main model 1"</h5>
                            <p class="card-text"></p>
                            <h4 class="unit-price">60$</h4>
                            <div>
                                <i class="fas fa-plus-circle"></i>
                                <span class="quantity">0</span>
                                <i class="fas fa-minus-circle"></i>
                            </div>
                            <div>
                                <i class="fas fa-trash-alt"></i>
                                <i class="fas fa-heart"></i>
                            </div>
                        </div>
                    </div>
                </div>
           

                <div class="card-body">
                    <div class="card" style="width: 18rem">
            
                        <div class="card-body">
                            <h5 class="card-title">sac à main model 2</h5>
                            <p class="card-text"></p>
                            <h4 class="unit-price">60 $</h4>
                            <div>
                                <i class="fas fa-plus-circle"></i>
                                <span class="quantity">0</span>
                                <i class="fas fa-minus-circle"></i>
                            </div>
                            <div>
                                <i class="fas fa-trash-alt"></i>
                                <i class="fas fa-heart"></i>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Product 3 : bag -->
                <div class="card-body">
                    <div class="card" style="width: 18rem">
                        <div class="card-body">
                            <h5 class="card-title">sac à main model 3</h5>
                            <p class="card-text"></p>
                            <h4 class="unit-price">60$</h4>
                            <div>
                                <i class="fas fa-plus-circle"></i>
                                <span class="quantity">0</span>
                                <i class="fas fa-minus-circle"></i>
                            </div>
                            <div>
                                <i class="fas fa-trash-alt"></i>
                                <i class="fas fa-heart"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous">
        </script>

    <!-- My JS -->
    <script>

        function increaseQuantity(b) {
            const quantityElement = b.nextElementSibling;
            let quantity = parseInt(quantityElement.textContent);
            quantity = quantity + 1;
            quantityElement.textContent = quantity;
     
        }
        function decreaseQuantity(button) {
            const quantityElement = button.previousElementSibling;
            let quantity = parseInt(quantityElement.textContent);

            if (quantity > 0) {
                quantity -= 1;
                quantityElement.textContent = quantity;
            }
        }

        function deleteItem(button) {
            const card = button.closest('.card-body');
            card.remove();
            updateTotal();
        }

        function updateTotal() {
            const quantities = document.querySelectorAll('.quantity');
            console.log(quantities);
            const unitPrices = document.querySelectorAll('.unit-price');
            let total = 0;

            for (let i = 0; i < quantities.length; i++) {
                const quantity = parseInt(quantities[i].textContent);
                const unitPrice = parseInt(unitPrices[i].textContent.replace(' $', ''));
                total += quantity * unitPrice;
            } 

            document.querySelector('.total').textContent = ` ${total} $`;
        }
        function toggleHeart(button) {
            button.classList.toggle('liked');
            button.style.color = button.classList.contains('liked') ? 'red' : 'black';
        }

        document.addEventListener('click', event => {
            if (event.target.classList.contains('fa-plus-circle')) {
                increaseQuantity(event.target);
                updateTotal()
            } else if (event.target.classList.contains('fa-minus-circle')) {
                decreaseQuantity(event.target);
                updateTotal()
            } else if (event.target.classList.contains('fa-heart')) {
                toggleHeart(event.target);
                updateTotal()
            } else if (event.target.classList.contains('fa-trash-alt')) {
                deleteItem(event.target);
                updateTotal()
            }
        });
        
    </script>
    
<footer>
    &copy; 2024 HYLER. Tous droits réservés.
</footer>
   
</body>
</html>